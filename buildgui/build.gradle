
apply plugin: 'application'
apply plugin: 'java'
apply plugin: 'maven-publish'

mainClassName = 'nl.weeaboo.vn.buildgui.BuildGuiLauncher'

dependencies {
    compile project(':nvlist-buildtools')
    compile project(':nvlist-desktop')
    compile "org.gradle:gradle-tooling-api:${gradleToolingApiVersion}"
}

apply plugin: 'com.github.johnrengelman.shadow'

shadowJar {
   baseName = 'nvlist-build'
   classifier = null
   version = null
}

publishing {
    publications {
        buildgui(MavenPublication) {
            from components.java
            artifactId 'nvlist-buildgui'
            pom.withXml {
                asNode().children().last() + pomLicenseConfig
            }  
        }
    }
}

bintray {
    publications = ['buildgui']
}

tasks.distTar.enabled = false // Don't bother generating a .tar distribution
